## Railsのセットアップ
- rails new miniblog_2 新規アプリケーションの作成
- Gemfileの編集
  - gem 'simple_form' 
  - gem 'haml-rails'
  - gem 'pagy'
  - gem 'devise'
  - gem 'bullet', group: 'development'
  - 追加後 bundle install でインストール
  - インストール 
    - rails generate simple_form:install --bootstrap
    - rails g bullet:install

## 短文投稿
- モデル、マイグレーションファイル作成
  - rails g model post content:string{140}
  - db:migrate
- ルーティング作成 index,create,edit,show,delete
  - resources post
- コントローラー、ビュー作成
  - simple formを使って作成
    -  simple_form_for @post do |f|
        f.input~
  - アクション作成
 
## ユーザー登録
- Deviceでモデルを生成
  - rails g device User
- マイグレーションを実行
  - rails db:migrate
- ビューをカスタマイズする
  - bundle exec rails g devise:views -v sessions registrations

## 投稿とユーザー情報を紐づける
- マイグレーションファイル作成
  - rails g migration AddUserref reference:User
  - add_reference(:users,:post)
  - rails db:migrate
- Userモデルを編集
  - class User < ApplicationRecord
      has_many :posts dependent: :destroy
    end
- postモデルを編集
  - class Post < ApplicationRecord
      belongs_to :user
    end
## Postのアクションを実行する前に認可を必要とする
- before_action :authenticate_user!

## ユーザー同士の関係を示すモデル作成 (has_many throughによるデータ抽出)
- rails g model relation
- def change
    create_table :relation do |r|
      r.references :followed, foreign_key: {to_table: :users}
      r.references :follower, foreign_key: {to_table: :users}
    end
  end
- rails db:migrate
- Userモデルに関連付け追加
  - has_many :active_relationship, class_name: :user, foreign_key: :followed
  - has_many :active_relationship, class_name: :user, foreign_key: :follower
- relationモデルに関連付け追加
  - belongs_to :user

## ユーザーフォローアクション作成
